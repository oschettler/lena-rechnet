
<!DOCTYPE html>
<html>
  <head>
    <title>Lena rechnet</title>
    <meta charset="utf-8">
    <link href="http://fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://getskeleton.com/dist/css/normalize.css">
    <link rel="stylesheet" href="http://getskeleton.com/dist/css/skeleton.css">
    <style>
    html { 
      background: url(http://traumgmbh.de/wp-content/uploads/2014/04/w964.jpg) no-repeat center center fixed; 
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
    }
    .content {
      width: 60%;
      background: rgba(255,255,255,0.5);
      margin: 20% auto;
      padding: 20px;
      text-align: center;
      border-radius: 4px;
      font-size: 26px;
    }
    .expr, input {
      display: inline-block;
      vertical-align: middle;
      margin-bottom: 0px;
    }
    input[type="number"] {
      padding: 4px;
      font-size: 26px;
    }
    r {
      color: red;
    }
    g {
      color: green;
    }
    y {
      color: yellow;
    }
    </style>
  </head>
  <body>
    <div class="content well">
      <h1>Hallo Lena</h1>
      <p>Lass uns ein paar Aufgaben rechnen!</p>
      
      <form>
        <div class="expr">
          <span class="n" id="n1"></span>
          <span class="op" id="op"></span>
          <span class="n" id="n2"></span>
          =
        </div>
        <input type="number" id="n3">
        <input class="button-primary" type="submit" value="Los!">
      </form>
      
      <p id="result">&nbsp;</p>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
    var 
      n1, n2, op, success;
    
    function rand_between(min, max) {
      return Math.round(Math.random() * (max - min) + min);
    }

    function numbers() {
      do {
        n1 = rand_between(10, 20);
        n2 = rand_between(0, 10);
        op = Math.random() >= 0.5 ? '+' : '-';
      }
      while (op == '+' && n1 + n2 > 20);

      $('#n1').text(n1);
      $('#n2').text(n2);
      $('#op').text(op);
    }
    
    $(function () {
      numbers();
    });
    
    $('form').on('submit', function (e) {
      e.preventDefault();
      
      if (op == '+') {
        success = parseInt($('#n1').text()) + parseInt($('#n2').text()) == n1 + n2;
      }
      else {
        success = parseInt($('#n1').text()) - parseInt($('#n2').text()) == n1 - n2;
      }
      if (success) {
        $('#result').html('<span class="r">r</span><span class="g">i</span><span class="r">c</span><span class="y">h</span><span class="r">t</span><span class="g">i</span><span class="y">g</span>');
        setTimeout(function () {
          $('#result').html('&nbsp;');
          $('#n3').val('');
          numbers();
        }, 2000);
      }
      else {
        $('#result').text('Nicht richtig. Probiere es noch einmal');
        setTimeout(function () {
          $('#n3').val('');
        }, 2000);
      }
    });
    </script>
  </body>
</html>
